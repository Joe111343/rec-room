<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>three.js ES Module 測試</title>
<style>body{margin:0}canvas{display:block}</style>
</head>
<body>
<script type="module">
  import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js';
  import { PointerLockControls } from 'https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/controls/PointerLockControls.js';

  // 簡單場景，確認可載入
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(60, innerWidth/innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(innerWidth, innerHeight);
  document.body.appendChild(renderer.domElement);

  const geo = new THREE.BoxGeometry(1,1,1);
  const mat = new THREE.MeshNormalMaterial();
  const cube = new THREE.Mesh(geo, mat);
  scene.add(cube);

  camera.position.z = 3;

  const controls = new PointerLockControls(camera, document.body);
  // click to lock pointer (只為測試能匯入 PointerLockControls)
  document.addEventListener('click', ()=> controls.lock());

  function animate() {
    requestAnimationFrame(animate);
    cube.rotation.x += 0.01;
    cube.rotation.y += 0.02;
    renderer.render(scene, camera);
  }
  animate();

  console.log('three & PointerLockControls 已成功載入。');
</script>
</body>
</html>
