// === P2P ===
const peer = new Peer(undefined, {
  host: '0.peerjs.com',
  port: 443,
  path: '/',
  secure: true
});

let conn = null;

peer.on('open', id=>{
  document.getElementById('myId').textContent = id; // 這裡會顯示你的 ID
});

document.getElementById('connectBtn').onclick = ()=>{
  const targetId = document.getElementById('peerId').value;
  if(!targetId) return alert("請輸入對方 ID");
  conn = peer.connect(targetId);
  conn.on('data', onData);
};

peer.on('connection', c=>{
  conn = c;
  conn.on('data', onData);
});
